<?xml version="1.0" encoding="utf-8"?>
<!-- Created with Liquid XML Studio 1.0.8.0 (http://www.liquid-technologies.com) -->
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:include schemaLocation="mediaroom.common.datamodel.xsd" />
  <xs:annotation>
    <xs:documentation>
		TBD:
			- spec object types for each policy type
			- formalize role enum info for each policy type
	</xs:documentation>
  </xs:annotation>
  <xs:element name="GroupTagDefList">
    <xs:complexType>
      <xs:sequence>
        <xs:element minOccurs="0" maxOccurs="unbounded" ref="GroupTagDef" />
      </xs:sequence>
      <xs:attributeGroup ref="AutoNID" />
    </xs:complexType>
  </xs:element>
  <xs:element name="GroupTagDef" type="GroupTagDefType" />
  <xs:complexType name="GroupTagDefType">
    <xs:sequence>
      <xs:element name="TagName" type="xs:string" />
      <xs:element name="TagObjectTypeList" type="TagObjectTypeListType" />
      <xs:element name="TagValueList" type="TagValueListType" />
    </xs:sequence>
    <xs:attribute name="serviceVer" type="xs:double" use="required" />
    <xs:attribute fixed="1.3" name="Ver" type="xs:double" use="required" />
    <xs:attribute fixed="1" name="Rev" type="xs:int" use="required" />
    <xs:attributeGroup ref="AutoNID" />
  </xs:complexType>
  <xs:complexType name="TagObjectTypeListType">
    <xs:sequence>
      <xs:element minOccurs="0" maxOccurs="unbounded" name="TagObjectType" type="TagObjectTypeEnumType" />
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="TagObjectTypeEnumType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="User" />
      <xs:enumeration value="AssetResource" />
      <xs:enumeration value="MediaStreamSrcPortResource" />
      <xs:enumeration value="MediaStreamDstPortResource" />
      <xs:enumeration value="MediaStreamRelayPortResource" />
      <xs:enumeration value="MediaStorePortResource" />
      <xs:enumeration value="MediaStreamDirResource" />
      <xs:enumeration value="MediaStreamFileResource" />
      <xs:enumeration value="MediaStreamProfile" />
      <xs:enumeration value="MediaRoom" />
    </xs:restriction>
  </xs:simpleType>
  <xs:complexType name="TagValueListType">
    <xs:sequence>
      <xs:element minOccurs="0" maxOccurs="unbounded" name="TagValue" type="xs:string" />
    </xs:sequence>
  </xs:complexType>
  <xs:element name="FilterList">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="TagObjectFilter" type="TagObjectFilterType" />
        <xs:element name="ObjectFilter" type="ObjectFilterType" />
      </xs:choice>
      <xs:attributeGroup ref="AutoNID" />
    </xs:complexType>
  </xs:element>
  <xs:complexType name="FilterType" abstract="true">
    <xs:sequence>
      <xs:element name="Name" type="xs:string" />
      <xs:element minOccurs="0" name="Description" type="xs:string" />
    </xs:sequence>
    <xs:attribute name="serviceVer" type="xs:double" use="required" />
    <xs:attribute fixed="1.3" name="Ver" type="xs:double" use="required" />
    <xs:attribute fixed="1" name="Rev" type="xs:int" use="required" />
    <xs:attributeGroup ref="AutoNID" />
  </xs:complexType>
  <xs:element name="TagObjectFilterList">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="TagObjectFilter" />
      </xs:sequence>
      <xs:attributeGroup ref="AutoNID" />
    </xs:complexType>
  </xs:element>
  <xs:element name="TagObjectFilter" type="TagObjectFilterType" />
  <xs:complexType name="TagObjectFilterType">
    <xs:complexContent mixed="false">
      <xs:extension base="FilterType">
        <xs:sequence>
          <xs:element name="TagObjectTypeList" type="TagObjectTypeListType" />
          <xs:element minOccurs="0" name="TagFilterSet" type="TagFilterSetType" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:element name="ObjectFilterList">
    <xs:complexType>
      <xs:sequence>
        <xs:element ref="ObjectFilter" />
      </xs:sequence>
      <xs:attributeGroup ref="AutoNID" />
    </xs:complexType>
  </xs:element>
  <xs:element name="ObjectFilter" type="ObjectFilterType" />
  <xs:complexType name="ObjectFilterType">
    <xs:complexContent mixed="false">
      <xs:extension base="FilterType">
        <xs:sequence>
          <xs:element minOccurs="0" name="AttrFilterSet" type="AttrFilterSetType" />
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>
  <xs:complexType name="TagFilterSetType">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="TagFilter" type="TagFilterType" />
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AttrFilterSetType">
    <xs:sequence>
      <xs:element maxOccurs="unbounded" name="AttrFilter" type="AttrFilterType" />
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="TagFilterType">
    <xs:sequence>
      <xs:element name="LHTagName" type="xs:string" />
      <xs:element name="MatchOp" type="MatchOpEnumType" />
      <xs:element name="RHRegexp" type="xs:string" />
    </xs:sequence>
  </xs:complexType>
  <xs:complexType name="AttrFilterType">
    <xs:sequence>
      <xs:choice>
        <xs:element name="TagObjectType" type="TagObjectTypeEnumType" />
        <xs:element name="NoTagObjectType" type="NoTagObjectTypeEnumType" />
      </xs:choice>
      <xs:element name="LHObjectRelativeXPath" type="xs:string" />
      <xs:element name="MatchOp" type="MatchOpEnumType" />
      <xs:element name="RHRegexp" type="xs:string" />
    </xs:sequence>
  </xs:complexType>
  <xs:simpleType name="MatchOpEnumType">
    <xs:restriction base="xs:string">      
      <xs:enumeration value="=" />
      <xs:enumeration value="!=" />
      <xs:enumeration value="&lt;=" />
      <xs:enumeration value="&lt;" />
      <xs:enumeration value="&gt;=" />
      <xs:enumeration value="&gt;" />
    </xs:restriction>
  </xs:simpleType>
  <xs:simpleType name="NoTagObjectTypeEnumType">
    <xs:restriction base="xs:string">
      <xs:enumeration value="PolicyAdminPolicyRule" />
      <xs:enumeration value="UserAdminPolicyRule" />
      <xs:enumeration value="AssetAdminPolicyRule" />
      <xs:enumeration value="MediaStoreAdminPolicyRule" />
      <xs:enumeration value="MediaRoomPolicyRule" />
      <xs:enumeration value="MediaStreamFilter" />
      <xs:enumeration value="GroupTagDef" />
      <xs:enumeration value="Filter" />
      <xs:enumeration value="User.GroupTag" />
      <xs:enumeration value="AssetResource.GroupTag" />
      <xs:enumeration value="MediaStreamPortResource.GroupTag" />
      <xs:enumeration value="MediaStreamFileResource.GroupTag" />
      <xs:enumeration value="MediaStreamProfile.GroupTag" />
      <xs:enumeration value="MediaRoom.GroupTag" />
    </xs:restriction>
  </xs:simpleType>
</xs:schema>
