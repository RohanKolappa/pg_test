{
  "apiVersion": null,
  "swaggerVersion": "1.2",
  "basePath": "http://{MSIP}/controller/Resource",
  "resourcePath": "/Device",
  "apis": [
    {
      "path": "/Device",
      "operations": [
      {
          "method": "GET",
          "summary": "Finds all Device in the system",
          "notes": "Get a list of all the device in the system",
          "responseClass": "List[Device]",
          "nickname": "getDevice",
          "produces": [
            "application/vnd.barco.nimbus.Device+json",
            "application/vnd.barco.nimbus.Device+xml"
          ],
          "parameters": [
          
			{
              "name": "MSIP",
              "description": "MS IP",
              "required": true,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "path"
            },
            {
              "name": "sortBy",
              "description": "sort by port title/type",
              "required": false,
              "allowMultiple": true,
              "dataType": "string",
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "title",
                  "type"
                ]
              },
              "paramType": "query"
            },
            {
              "name": "sortOrder",
              "description": "sort in order ascending/descending",
              "required": false,
              "allowMultiple": true,
              "dataType": "string",
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "ascending",
                  "descending"
                ]
              },
              "paramType": "query"
            },
            {
              "name": "whereTextSubStr",
              "description": "Filter based on substring.this search the substring in title,discription,metadata.",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            },
{
              "name": "whereNID",
              "description": "Filter based on nid",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            },
{
              "name": "whereTitle",
              "description": "Filter based on title",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            },
{
              "name": "whereType",
              "description": "Filter based on type",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
			  "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "IPVSClient-Device",
				  "Proxy-Device",
				  "WebClient-Device",
                  "DMS-25-Device",
				  "DMS-100-Device",
				  "DMS-120-Device",
				  "DMS-1000-Device",
				  "DMS-1200-Device",
				  "DMS-1500-Device",
				  "DMS-1600-Device",
				  "DMS-1700-Device",
				  "MPEGTS-Rx-Device",
				  "MPEGTS-Tx-Device",
				  "MS-25-Device",
				  "MS-Device",
				  "RTP-Tx-Device",
				  "RTP-Rx-Device",
				  "UDP-Rx-Device",
				  "UDP-Tx-Device",
				  "V2D-Tx-Device",
				  "V2D-Rx-Device",
				  "V2D-XP200-Device",
				  "V2D-XP200S-Device",
				  "V2D-XP220-Device",
				  "V2D-XP220S-Device",
				  "V2D-XPi-Device"

                ]
				},
              "paramType": "query"
            },
            {
              "name": "selectFormat",
              "description": "Filter by response formats",
              "required": false,
              "allowMultiple": true,
              "dataType": "string",
              "allowableValues": {
                "valueType": "LIST",
                "values": [
                  "BASIC",
                  "EXTENDED"
                ]
              },
              "paramType": "query"
            },
			{
              "name": "whereTagExpr",
              "description": "fomat: Name%3D'Location' and Value%3D'Sunnyvale'",
              "required": false,
              "allowMultiple": true,
              "dataType": "string",
              "paramType": "query"
            },
			{
              "name": "startFrom",
              "description": "get the list starting form startFrom index",
              "required": false,
              "allowMultiple": false,
              "dataType": "integer",
              "paramType": "query"
            },
{
              "name": "countToFetch",
              "description": "number of devices to be fetched",
              "required": false,
              "allowMultiple": false,
              "dataType": "integer",
              "paramType": "query"
            }
			
          ],
          "responseMessages": [
             {
              "code": 200,
              "message": "Success"
            },
            {
              "code": 401,
              "message": "Unauthorized"
            },
            {
              "code": 500,
              "message": "Internal Server Error"
            }
          ],
          "deprecated": "false"
        },
         {
          "method": "POST",
          "summary": "add a device",
          "notes": "add a  device",
          "responseClass": "AddDevice",
          "nickname": "addDevice",
          "produces": [
            "application/json",
            "application/xml"
          ],
		  "consumes": [
            "application/json",
            "application/xml"
          ],
          "parameters": [
		  
		  {
              "name": "MSIP",
              "description": "MS IP",
              "required": true,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "path"
            },
            {
              "name": "body",
              "description": "add a device",
              "required": true,
              "allowMultiple": false,
              "dataType": "AddDevice",
              "paramType": "body"
            }           
          ],
          "responseMessages": [
             {
              "code": 200,
              "message": "Success"
            },
            {
              "code": 401,
              "message": "Unauthorized"
            },
            {
              "code": 500,
              "message": "Internal Server Error"
            }
          ],
          "deprecated": "false"
        },
		 {
          "method": "DELETE",
          "summary": "delete a device",
          "notes": "delete a  device",
          "responseClass": "void",
          "nickname": "deleteDevice",
          "produces": [
            "application/json",
            "application/xml"
          ],
          "parameters": [
		 
		  {
              "name": "MSIP",
              "description": "MS IP",
              "required": true,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "path"
            },
            {
              "name": "NID",
              "description": "device nid",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            },
           {
              "name": "title",
              "description": "device title",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            }  			
          ],
          "responseMessages": [
             {
              "code": 200,
              "message": "Success"
            },
            {
              "code": 401,
              "message": "Unauthorized"
            },
            {
              "code": 500,
              "message": "Internal Server Error"
            }
          ],
          "deprecated": "false"
        },
		 {
          "method": "POST",
          "summary": "Update device description in database",
          "notes": "Update device description in database",
          "responseClass": "DeviceInfo",
          "nickname": "SetDeviceInfo",
          "produces": [
            "application/vnd.barco.nimbus.Device-Info+json",
				  "application/vnd.barco.nimbus.Device-Info+xml"
          ],
		  "consumes": [
            "application/json",
            "application/xml"
          ],
          "parameters": [

			{
              "name": "MSIP",
              "description": "MS IP",
              "required": true,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "path"
            },
		  {
              "name": "NID",
              "description": "device nid",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            },
           {
              "name": "title",
              "description": "device title",
              "required": false,
              "allowMultiple": false,
              "dataType": "string",
              "paramType": "query"
            },           	
            {
              "name": "body",
              "description": "Update device description in database",
              "required": true,
              "allowMultiple": false,
              "dataType": "DeviceInfo",
              "paramType": "body"
            }           
          ],
          "responseMessages": [
             {
              "code": 200,
              "message": "Success"
            },
            {
              "code": 401,
              "message": "Unauthorized"
            },
            {
              "code": 500,
              "message": "Internal Server Error"
            }
          ],
          "deprecated": "false"
        }
      ]
    }
  ],
  "models": {
"Tag": {
      "id": "Tag",
      "properties": {
        "Name": {
          "type": "string"
        },
        "Value": {
          "type": "String"
        }
      }
    },
	"AddDevice": {
      "id": "AddDevice",
      "description": "add a device request",
      "required": [
        "AddDevice"
      ],
      "properties": {
        "AddDevice" : {
          "$ref": "AddDeviceReq"
        }
      }
    },
	"AddDeviceReq": {
      "id": "AddDeviceReq",
      "description": "A basic add device request",
      "required": [
        "Groups",
        "@type",
        "@title",
        "@password",
		"@unManned",
		"@unManaged",
		"@applyTagsToPorts"
      ],
      "properties": {"Groups": {
          "type": "array",
            "items": {
              "$ref": "Tag"
            }
         },
                "@type": {"type": "string","description": "[Required]"},
		"@title": {"type": "string","description": "[Required [Does not allow XML restricted special characters]]"},
		"@password": {"type": "string","description": "[Required]"},
		"@unManned": {"type": "boolean","description": "[Required]"},
		"@unManaged": {"type": "boolean","description": "[Required]"},
		"@applyTagsToPorts": {"type": "boolean","description": "[Required]"}
		
      }
    },
	"DeviceInfo": {
      "id": "DeviceInfo",
      "description": "set deviceInfo request",
      "required": [
        "DeviceInfo"
      ],
      "properties": {
        "DeviceInfo" : {
          "$ref": "setDeviceInfoReq"
        }
      }
    },
	"setDeviceInfoReq": {
      "id": "setDeviceInfoReq",
      "description": "A basic set device info request",
      "required": [
        "Groups",
        "DevicePrivateData",
        "@description",
        
        "@password",
		
		"@applyTagsToPorts"
      ],
      "properties": {"Groups": {
          "type": "array",
            "items": {
              "$ref": "Tag"
            }
         },
        "DevicePrivateData":{"type": "string"},

        "@description": {"type": "string"},
		
		"@password": {"type": "string"},
		
		"@applyTagsToPorts": {"type": "boolean"}
		
      }
    },
		"Device": {
      "id": "Device",
      "description": "A Device body",
      "required": [
        "Device"
      ],
      "properties": {
        "Device": {
            "$ref": "Devicebody"
         }
      }
    },
	 "Devicebody": {
      "id": "Devicebody",
      "description": "A basic Device object response",
      "required": [
        "@NID",
		"@type",
        "Groups",
        "@presence",
        "@state",
        "@title",
		"@description",
		"@password",
		"@ownerUserJID",
		"@softwareVersion",
		"@unManaged",
		"@unManned",
		"@msStatus",
        "DevicePrivateData",
		"DeviceConfig",
		"TemplateNID",
		"PortList",
		"Status"
      ],
      "properties": {
        "Groups": {
          "type": "array",
            "items": {
              "$ref": "Tag"
            }
         },
        "@NID": {"type": "string"},
		"@type": {"type": "string"},
        "@Status": {"type": "string",
          "description": "type of stream",
          "enum": [
            "Active",
            "Primary",
            "PrimaryStandby",
			"Secondary",
			"SecondaryStandby"	
          ]},
        "@description": {"type": "string"},
        "@password": {"type": "string"},
		"@unManaged": {"type": "boolean"},
		"@unManned": {"type": "boolean"},
		"@softwareVersion": {"type": "string"},
		"@ownerUserJID": {"type": "string"},
        "@presence": {"type": "string", "enum": [
            "available",
            "unavailable"
          ]},
        "@state": {"type": "string", "enum": [
            "Ready",
            "Offline",
            "Busy"
          ]},
        "@title": {"type": "string"},
        "Status": {
            "$ref": "Status"
        },
		"DevicePrivateData": {"type": "string"},
		"TemplateNID": {"type": "string"},
        "PortList": {
	       "$ref": "PortList"
        },
		"DeviceConfig": {
	       "$ref": "DeviceConfig"
        }
      }
    },
	"DeviceConfig": {
		"id": "DeviceConfig",
             "required": [
        "@NID"
      ],
      "properties": {
        "@NID": {
          "type": "string"
        }
      }
        },
	  "PortList": {
		"id": "PortList",
             "required": [
        "Port"
      ],
      "properties": {
        "Port": {
            "$ref": "Port"
         }
      }
        },
	"Port": {
      "id": "Port",
      "required": [
        "@NID",
        "@portType",
        "@deviceElementID"
       
      ],
      "properties": {
        "@NID": {
          "type": "string"
        },
        "@portType": {
          "type": "string"
        },
        "@deviceElementID": {
          "type": "string"
        }
      }
    
  },
    "Status": {
      "id": "Status",
      "required": [
        "@device",
        "@systemElements",
        "@serviceElements",
        "@hardDisk",
        "@NAS",
		"@networkElements"
      ],
      "properties": {
        "@device": {
          "type": "string"
        },
        "@systemElements": {
          "type": "string"
        },
        "@serviceElements": {
          "type": "string"
        },
        "@hardDisk": {
          "type": "string"
        },
        "@NAS": {
          "type": "string"
        },
        "@networkElements": {
          "type": "string"
        }
      }
    
  }
    
    
  }
}
