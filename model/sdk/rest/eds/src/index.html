<!DOCTYPE html>

<html>

<head>

  <title>Management Server Rest API</title>

  <link href='//fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>

  <link href='css/highlight.default.css' media='screen' rel='stylesheet' type='text/css'/>

  <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'/>

  <script type="text/javascript" src="lib/shred.bundle.js"></script>

  <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>

  <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>

  <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>

  <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>

  <script src='lib/handlebars-1.0.0.js' type='text/javascript'></script>

  <script src='lib/underscore-min.js' type='text/javascript'></script>

  <script src='lib/backbone-min.js' type='text/javascript'></script>

  <script src='lib/swagger.js' type='text/javascript'></script>

  <script src='swagger-ui.js' type='text/javascript'></script>

  <script src='lib/highlight.7.3.pack.js' type='text/javascript'></script>

  <script src='lib/Base64.js' type='text/javascript'></script>

  <script src='lib/barcoUtils.js' type='text/javascript'></script>

  <script type="text/javascript">
    $(function () {

	// find the URL to this script
        var scripts = document.getElementsByTagName("script");
        var scriptURL = null;
        for (var i = 0; i < scripts.length; i++) {
            var src = scripts[i].src;
            if (src.indexOf('swagger-ui') > 0) {
                scriptURL = src;
            }
        }

	var parts = "";
	if (scriptURL) {
		parts = scriptURL.split('src');
	} 

      window.swaggerUi = new SwaggerUi({
	
      url: parts[0] + "src/api-docs",

      dom_id: "swagger-ui-container",

      supportedSubmitMethods: ['get', 'post', 'put', 'delete'],

      onComplete: function(swaggerApi, swaggerUi){

        if(console) {

          console.log("Loaded SwaggerUI")

        }

        $('pre code').each(function(i, e) {hljs.highlightBlock(e)});

      },

      onFailure: function(data) {

        if(console) {

          console.log("Unable to Load SwaggerUI");

          console.log(data);

        }

      },

      docExpansion: "none"

    });

    
    $('#explore').click(function(e) {

        var serverip = $('#input_apiKey')[0].value;
		var resource = $('#input_apiKey1')[0].value;
        var username = $('#input_apiKey2')[0].value;
        var password = $('#input_apiKey3')[0].value;
		
        console.log("Login serverip: " + serverip +" resource: " + resource +" username: " + username+" password " + password);

      if(!isEmpty(serverip) && !isEmpty(resource) && !isEmpty(username) && !isEmpty(password)) { //chek for empty or undefined

       

       
        child = window.open('notification.html','1395957900505','width=1000,height=500,toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left=0,top=0');

        
		
        window.authorizations.add("h1", new ApiKeyAuthorization("Authorization", "Basic " + Base64.encode(username+":"+password), "header"));

        window.authorizations.add("h2", new ApiKeyAuthorization("X-Barco-resource", resource+"_"+username, "header"));
        
		var arr = window.document.getElementsByName("MSIP");
		for (var i=0;i<arr.length;i++){
		arr[i].value= serverip ;
		}
        

      }else 
	  {
	   alert("serverip or resource or username or  password is empty !");
	  }

	   e.stopPropagation();

    });
 

    window.swaggerUi.load();


  });

  

  function log_out() {
     
        var serverip = $('#input_apiKey')[0].value;
		var resource = $('#input_apiKey1')[0].value;
        var username = $('#input_apiKey2')[0].value;
        var password = $('#input_apiKey3')[0].value;
		
	    console.log("LogOut serverip: " + serverip +" resource: " + resource +" username: " + username+" password " + password);
		if(!isEmpty(serverip) && !isEmpty(resource) && !isEmpty(username) && !isEmpty(password)) { //chek for empty or undefined

        window.authorizations.add("h1", new ApiKeyAuthorization("Authorization", "Basic " + Base64.encode(username+":"+password), "header"));

        window.authorizations.add("h2", new ApiKeyAuthorization("X-Barco-resource", resource+"_"+username, "header"));

        window.authorizations.add("h4", new ApiKeyAuthorization("Content-Type", "application/json", "header"));

        logout(serverip, username, password, resource);

        if(child && !child.closed){
        child.close();
		alert("User logged out successfully!");
		}else{
		alert("User is already logged out!");
		}

       }else 
	  {
	   alert("serverip or resource or username or  password is empty !");
	  }

    } 

  

 function isEmpty(str) {
    return (!str || 0 === str.length);
}

  

  </script>

</head>



<body>

<div id='header'>
<table>
<tr>
<td>
  <div class="swagger-ui-wrap">
    <a id="logo" href="http://www.barco.com">Management Server Rest API</a>
  </div>
  </td>
  <td width="450"/>
  <td>
  <div>
  <form id='api_selector'>

      <div class='input'>
           <input placeholder="serverIp" id="input_apiKey" name="apiKey" type="text" width="100">
           <script type="text/javascript"> 
			var elem = document.getElementById("input_apiKey"); // Get text field
			elem.value = location.host; // Change field
			</script>
         
      </div>
	  <div class='input'><input placeholder="username" id="input_apiKey2" name="apiKey2" type="text" width="100"/></div>
	  <div class='input'><input placeholder="password" id="input_apiKey3" name="apiKey3" type="text" width="100"/></div>
      <div class='input'><input placeholder="resourcename" id="input_apiKey1" name="baseUrl" type="text" value="web-client" width="100" /></div>
    
      <div class='input'><a id="explore" href="#">Login</a></div>

      <div class='input'><a id="logout" href="javascript:log_out();">Logout</a></div>

    </form>
  </div>
</td>
</tr>
</table>
</div>

<div id="message-bar" class="swagger-ui-wrap">

  &nbsp;

</div>



<table class="swagger-ui-wrap">



<tr>   

<td>

<div class='input'>
<!--
<a id="reference" href="javascript:switch_view('reference');">API Reference</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a id="tutorials" href="#">API Tutorials</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-->
</div>

</td>

<td>



</td>

</tr>



<tr colspan="2">

<td>

<div id="swagger-ui-container" class="swagger-ui-wrap">

</div>

</td>

<td></td>



</tr>

</table>









</body>



</html>
