// ============================================================================
// 
// Copyright (c) 2003-2014 Barco N.V.
// 
// ============================================================================
// 
// This file is part of "VMP::M2S".
// 
// "VMP::M2S" is free software; you can redistribute it and/or modify it
// under the terms of the GNU Lesser General Public License as published
// by the Free Software Foundation; either version 2.1 of the License, or
// (at your option) any later version.
// 
// "VMP::M2S" is distributed in the hope that it will be useful, but
// WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
// Lesser General Public License for more details.
// 
// You should have received a copy of the GNU Lesser General Public License
// along with "VMP::M2S"; if not, write to:
//                          Free Software Foundation
//                          59 Temple Place, Suite 330
//                          Boston, MA 02111-1307 USA
// 
// ============================================================================
// 
// Filename:
//	VMP.M2S.Descriptor.h
// 
// Description:
//	...
// 
// Author(s):
//	...
// 
// ============================================================================

#ifndef _VMP_M2S_Descriptor_h_
#define _VMP_M2S_Descriptor_h_

// ============================================================================

#include "VMP.M2S.DLL.h"

// ============================================================================

#include "VMP.M2S.DescriptorPtr.h"

// ============================================================================

#include "BFC.Base.SObject.h"

#include "BFC.TL.BufferArray.h"

// ============================================================================

namespace VMP {
namespace M2S {

// ============================================================================

class VMP_M2S_DLL Descriptor : virtual public BFC::SObject {

public :

	BFC::Uint32	tag;

	virtual void decode(
		const	BFC::Buffer &	pData
	) = 0;

	virtual BFC::Buffer toBuffer(
	) const = 0;

};

// ============================================================================

class VMP_M2S_DLL UnknownDescriptor : public Descriptor {

public :

	virtual void decode(
		const	BFC::Buffer &	pData
	);

	virtual BFC::Buffer toBuffer(
	) const;

	BFC::Buffer		data;

};

// ============================================================================
// 0x00, 0x01: reserved
// ============================================================================

// ============================================================================
// 0x02: video_stream_descriptor
// ============================================================================

class VMP_M2S_DLL VideoStreamDescriptor : public Descriptor {

public :

	virtual void decode(
		const	BFC::Buffer &	pData
	);

	virtual BFC::Buffer toBuffer(
	) const;

	BFC::Bool	multiple_frame_rate_flag;
	BFC::Uint32	frame_rate_code;
	BFC::Bool	MPEG_1_only_flag;
	BFC::Bool	constrained_parameter_flag;
	BFC::Bool	still_picture_flag;

	// If MPEG_1_only_flag:

	BFC::Uint32	profile_and_level_indication;
	BFC::Uint32	chroma_format;
	BFC::Bool	frame_rate_extension_flag;

};

// ============================================================================
// 0x03: audio_stream_descriptor
// ============================================================================

// ============================================================================
// 0x04: hierarchy_descriptor
// ============================================================================

// ============================================================================
// 0x05: registration_descriptor
// ============================================================================

// ============================================================================
// 0x06: data_stream_alignment_descriptor
// ============================================================================

// ============================================================================
// 0x07: target_background_grid_descriptor
// ============================================================================

// ============================================================================
// 0x08: video_window_descriptor
// ============================================================================

// ============================================================================
// 0x09: CA_descriptor
// ============================================================================

class VMP_M2S_DLL CADescriptor : public Descriptor {

public :

	virtual void decode(
		const	BFC::Buffer &	pData
	);

	virtual BFC::Buffer toBuffer(
	) const;

	BFC::Uint32		CA_system_ID;
	BFC::Uint32		CA_PID;
	BFC::Buffer		data;

};

// ============================================================================
// 0x0A: ISO_639_language_descriptor
// ============================================================================

class VMP_M2S_DLL ISO639LanguageDescriptor : public Descriptor {

public :

	virtual void decode(
		const	BFC::Buffer &	pData
	);

	virtual BFC::Buffer toBuffer(
	) const;

	BFC::BufferArray	codes;

};

// ============================================================================
// 0x0B: system_clock_descriptor
// ============================================================================

// ============================================================================
// 0x0C: multiplex_buffer_utilization_descriptor
// ============================================================================

// ============================================================================
// 0x0D: copyright_descriptor
// ============================================================================

// ============================================================================
// 0x0E: maximum_bitrate_descriptor
// ============================================================================

// ============================================================================
// 0x0F: private_data_indicator_descriptor
// ============================================================================

// ============================================================================
// 0x10: smoothing_buffer_descriptor
// ============================================================================

// ============================================================================
// 0x11: STD_descriptor
// ============================================================================

// ============================================================================
// 0x12: IBP_descriptor
// ============================================================================

// ============================================================================
// 0x13: DSM-CC carousel_identifier_descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

class VMP_M2S_DLL CarouselIdentifierDescriptor : public Descriptor {

public :

	virtual void decode(
		const	BFC::Buffer &	pData
	);

	virtual BFC::Buffer toBuffer(
	) const;

	BFC::Uint32	carousel_id;

};

// ============================================================================
// 0x14: DSM-CC association_tag_descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

class VMP_M2S_DLL AssociationTagDescriptor : public Descriptor {

public :

	virtual void decode(
		const	BFC::Buffer &	pData
	);

	virtual BFC::Buffer toBuffer(
	) const;

};

// ============================================================================
// 0x15: DSM-CC deferred_association_tags_descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

// ============================================================================
// 0x16: reserved < defined in ISO/IEC 13818-6 >
// ============================================================================

// ============================================================================
// 0x17: DSM-CC NPT Reference descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

// ============================================================================
// 0x18: DSM-CC NPT Endpoint descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

// ============================================================================
// 0x19: DSM-CC Stream Mode Descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

// ============================================================================
// 0x1A: DSM-CC Stream Event Descriptor < defined in ISO/IEC 13818-6 >
// ============================================================================

// ============================================================================
// 0x1B: MPEG-4_video_descriptor
// ============================================================================

// ============================================================================
// 0x1C: MPEG-4_audio_descriptor
// ============================================================================

// ============================================================================
// 0x1D: IOD_descriptor
// ============================================================================

// ============================================================================
// 0x1E: SL_descriptor
// ============================================================================

// ============================================================================
// 0x1F: FMC_descriptor
// ============================================================================

// ============================================================================
// 0x20: external_ES_ID_descriptor
// ============================================================================

// ============================================================================
// 0x21: MuxCode_descriptor
// ============================================================================

// ============================================================================
// 0x22: FmxBufferSize_descriptor
// ============================================================================

// ============================================================================
// 0x23: MultiplexBuffer_descriptor
// ============================================================================

// ============================================================================
// 0x24 ... 0x3F: < ITU-T Rec. H.222.0 | ISO/IEC 13818-1 Reserved >
// ============================================================================

// ============================================================================
// 0x40... 0xFF: < User Private >
// ============================================================================

// ============================================================================

} // namespace M2S
} // namespace VMP

// ============================================================================

#endif // _VMP_M2S_Descriptor_h_

// ============================================================================

