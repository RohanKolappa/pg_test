/*
 * xkb_utils.h
 *
 *  Created on: Nov 12, 2013
 *      Author: rkale
 */

#ifndef XKB_UTILS_H_
#define XKB_UTILS_H_
#include "clientutils.h"

static const unsigned int Modifiers[14] = {
	0xFFE1, /* Left shift */
	0xFFE2, /* Right shift */
	0xFFE3, /* Left control */
	0xFFE4, /* Right control */
	0xFFE5, /* Caps lock */
	0xFFE6, /* Shift lock */
	0xFFE7, /* Left meta */
	0xFFE8, /* Right meta */
	0xFFE9, /* Left alt */
	0xFFEA, /* Right alt */
	0xFFEB, /* Left super */
	0xFFEC, /* Right super */
	0xFFED, /* Left hyper */
	0xFFEE /* Right hyper */
};

// Dead keys map for German_Germany Layout
static const struct _KeySymToDeadKeyCharStructGerman
{
	KeySymToDeadKeyChar KSTDKC;
}KeySymToDeadKeyCharStruct_German[] = {
	{{0xfe50,0x0020,0x0060}},//XKB_KEY_grave `
	{{0xfe50,0x0041,0x00c0}},//XKB_KEY_Agrave À
	{{0xfe50,0x0045,0x00c8}},//XKB_KEY_Egrave È
	{{0xfe50,0x0049,0x00cc}},//XKB_KEY_Igrave Ì
	{{0xfe50,0x004f,0x00d2}},//XKB_KEY_Ograve Ò
	{{0xfe50,0x0055,0x00d9}},//XKB_KEY_Ugrave Ù
	{{0xfe50,0x0061,0x00e0}},//XKB_KEY_agrave à
	{{0xfe50,0x0065,0x00e8}},//XKB_KEY_egrave è
	{{0xfe50,0x0069,0x00ec}},//XKB_KEY_igrave ì
	{{0xfe50,0x006f,0x00f2}},//XKB_KEY_ograve ò
	{{0xfe50,0x0075,0x00f9}},//XKB_KEY_ugrave ù
	{{0xfe51,0x0020,0x00b4}},//XKB_KEY_acute ´
	{{0xfe51,0x0041,0x00c1}},//XKB_KEY_Aacute Á
	{{0xfe51,0x0045,0x00c9}},//XKB_KEY_Eacute É
	{{0xfe51,0x0049,0x00cd}},//XKB_KEY_Iacute Í
	{{0xfe51,0x004f,0x00d3}},//XKB_KEY_Oacute Ó
	{{0xfe51,0x0055,0x00da}},//XKB_KEY_Uacute Ú
	{{0xfe51,0x0059,0x00dd}},//XKB_KEY_Yacute Ý
	{{0xfe51,0x0061,0x00e1}},//XKB_KEY_aacute á
	{{0xfe51,0x0065,0x00e9}},//XKB_KEY_eacute é
	{{0xfe51,0x0069,0x00ed}},//XKB_KEY_iacute í
	{{0xfe51,0x006f,0x00f3}},//XKB_KEY_oacute ó
	{{0xfe51,0x0075,0x00fa}},//XKB_KEY_uacute ú
	{{0xfe51,0x0079,0x00fd}},//XKB_KEY_yacute ý
	{{0xfe52,0x0020,0x005e}},//XKB_KEY_asciicircum ^
	{{0xfe52,0x0041,0x00c2}},//XKB_KEY_Acircumflex Â
	{{0xfe52,0x0045,0x00ca}},//XKB_KEY_Ecircumflex Ê
	{{0xfe52,0x0049,0x00ce}},//XKB_KEY_Icircumflex Î
	{{0xfe52,0x004f,0x00d4}},//XKB_KEY_Ocircumflex Ô
	{{0xfe52,0x0055,0x00db}},//XKB_KEY_Ucircumflex Û
	{{0xfe52,0x0061,0x00e2}},//XKB_KEY_acircumflex â
	{{0xfe52,0x0065,0x00ea}},//XKB_KEY_ecircumflex ê
	{{0xfe52,0x0069,0x00ee}},//XKB_KEY_icircumflex î
	{{0xfe52,0x006f,0x00f4}},//XKB_KEY_ocircumflex ô
	{{0xfe52,0x0075,0x00fb}}//XKB_KEY_ucircumflex û
};

// Dead keys map for French_France Layout
static const struct _KeySymToDeadKeyCharStructFrench
{
	KeySymToDeadKeyChar KSTDKC;
}KeySymToDeadKeyCharStruct_French[] = {
	{{0xfe50,0x0020,0x0060}},//XKB_KEY_grave `
	{{0xfe50,0x0041,0x00c0}},//XKB_KEY_Agrave À
	{{0xfe50,0x0045,0x00c8}},//XKB_KEY_Egrave È
	{{0xfe50,0x0049,0x00cc}},//XKB_KEY_Igrave Ì
	{{0xfe50,0x004f,0x00d2}},//XKB_KEY_Ograve Ò
	{{0xfe50,0x0055,0x00d9}},//XKB_KEY_Ugrave Ù
	{{0xfe50,0x0061,0x00e0}},//XKB_KEY_agrave à
	{{0xfe50,0x0065,0x00e8}},//XKB_KEY_egrave è
	{{0xfe50,0x0069,0x00ec}},//XKB_KEY_igrave ì
	{{0xfe50,0x006f,0x00f2}},//XKB_KEY_ograve ò
	{{0xfe50,0x0075,0x00f9}},//XKB_KEY_ugrave ù
	{{0xfe52,0x0020,0x005e}},//XKB_KEY_asciicircum ^
	{{0xfe52,0x0041,0x00c2}},//XKB_KEY_Acircumflex Â
	{{0xfe52,0x0045,0x00ca}},//XKB_KEY_Ecircumflex Ê
	{{0xfe52,0x0049,0x00ce}},//XKB_KEY_Icircumflex Î
	{{0xfe52,0x004f,0x00d4}},//XKB_KEY_Ocircumflex Ô
	{{0xfe52,0x0055,0x00db}},//XKB_KEY_Ucircumflex Û
	{{0xfe52,0x0061,0x00e2}},//XKB_KEY_acircumflex â
	{{0xfe52,0x0065,0x00ea}},//XKB_KEY_ecircumflex ê
	{{0xfe52,0x0069,0x00ee}},//XKB_KEY_icircumflex î
	{{0xfe52,0x006f,0x00f4}},//XKB_KEY_ocircumflex ô
	{{0xfe52,0x0075,0x00fb}},//XKB_KEY_ucircumflex û
	{{0xfe53,0x0020,0x007e}},//XKB_KEY_asciitilde ~
	{{0xfe53,0x0041,0x00c3}},//XKB_KEY_Atilde  Ã
	{{0xfe53,0x004e,0x00d1}},//XKB_KEY_Ntilde Ñ
	{{0xfe53,0x004f,0x00d5}},//XKB_KEY_Otilde Õ
	{{0xfe53,0x0061,0x00e3}},//XKB_KEY_atilde ã
	{{0xfe53,0x006e,0x00f1}},//XKB_KEY_ntilde ñ
	{{0xfe53,0x006f,0x00f5}},//XKB_KEY_otilde õ
	{{0xfe57,0x0020,0x00a8}},//XKB_KEY_diaeresis ¨
	{{0xfe57,0x0041,0x00c4}},//XKB_KEY_Adiaeresis Ä
	{{0xfe57,0x0045,0x00cb}},//XKB_KEY_Ediaeresis Ë
	{{0xfe57,0x0049,0x00cf}},//XKB_KEY_Idiaeresis Ï
	{{0xfe57,0x004f,0x00d6}},//XKB_KEY_Odiaeresis Ö
	{{0xfe57,0x0055,0x00dc}},//XKB_KEY_Udiaeresis Ü
	{{0xfe57,0x0061,0x00e4}},//XKB_KEY_adiaeresis ä
	{{0xfe57,0x0065,0x00eb}},//XKB_KEY_ediaeresis ë
	{{0xfe57,0x0069,0x00ef}},//XKB_KEY_idiaeresis ï
	{{0xfe57,0x006f,0x00f6}},//XKB_KEY_odiaeresis ö
	{{0xfe57,0x0075,0x00fc}},//XKB_KEY_udiaeresis ü
	{{0xfe57,0x0079,0x00ff}}//XKB_KEY_ydiaeresis ÿ

};

// Dead keys map for French_Belgium , Spanish_Spain and Portuguese Layout as they all have the same dead keys combination
static const struct _KeySymToDeadKeyCharStructBelgianSpanishPortuguese
{
	KeySymToDeadKeyChar KSTDKC;
}KeySymToDeadKeyCharStruct_BelgianSpanishPortuguese[] = {
	{{0xfe50,0x0020,0x0060}},//XKB_KEY_grave `
	{{0xfe50,0x0041,0x00c0}},//XKB_KEY_Agrave À
	{{0xfe50,0x0045,0x00c8}},//XKB_KEY_Egrave È
	{{0xfe50,0x0049,0x00cc}},//XKB_KEY_Igrave Ì
	{{0xfe50,0x004f,0x00d2}},//XKB_KEY_Ograve Ò
	{{0xfe50,0x0055,0x00d9}},//XKB_KEY_Ugrave Ù
	{{0xfe50,0x0061,0x00e0}},//XKB_KEY_agrave à
	{{0xfe50,0x0065,0x00e8}},//XKB_KEY_egrave è
	{{0xfe50,0x0069,0x00ec}},//XKB_KEY_igrave ì
	{{0xfe50,0x006f,0x00f2}},//XKB_KEY_ograve ò
	{{0xfe50,0x0075,0x00f9}},//XKB_KEY_ugrave ù
	{{0xfe51,0x0020,0x00b4}},//XKB_KEY_acute ´
	{{0xfe51,0x0041,0x00c1}},//XKB_KEY_Aacute Á
	{{0xfe51,0x0045,0x00c9}},//XKB_KEY_Eacute É
	{{0xfe51,0x0049,0x00cd}},//XKB_KEY_Iacute Í
	{{0xfe51,0x004f,0x00d3}},//XKB_KEY_Oacute Ó
	{{0xfe51,0x0055,0x00da}},//XKB_KEY_Uacute Ú
	{{0xfe51,0x0059,0x00dd}},//XKB_KEY_Yacute Ý
	{{0xfe51,0x0061,0x00e1}},//XKB_KEY_aacute á
	{{0xfe51,0x0065,0x00e9}},//XKB_KEY_eacute é
	{{0xfe51,0x0069,0x00ed}},//XKB_KEY_iacute í
	{{0xfe51,0x006f,0x00f3}},//XKB_KEY_oacute ó
	{{0xfe51,0x0075,0x00fa}},//XKB_KEY_uacute ú
	{{0xfe51,0x0079,0x00fd}},//XKB_KEY_yacute ý
	{{0xfe52,0x0020,0x005e}},//XKB_KEY_asciicircum ^
	{{0xfe52,0x0041,0x00c2}},//XKB_KEY_Acircumflex Â
	{{0xfe52,0x0045,0x00ca}},//XKB_KEY_Ecircumflex Ê
	{{0xfe52,0x0049,0x00ce}},//XKB_KEY_Icircumflex Î
	{{0xfe52,0x004f,0x00d4}},//XKB_KEY_Ocircumflex Ô
	{{0xfe52,0x0055,0x00db}},//XKB_KEY_Ucircumflex Û
	{{0xfe52,0x0061,0x00e2}},//XKB_KEY_acircumflex â
	{{0xfe52,0x0065,0x00ea}},//XKB_KEY_ecircumflex ê
	{{0xfe52,0x0069,0x00ee}},//XKB_KEY_icircumflex î
	{{0xfe52,0x006f,0x00f4}},//XKB_KEY_ocircumflex ô
	{{0xfe52,0x0075,0x00fb}},//XKB_KEY_ucircumflex û
	{{0xfe53,0x0020,0x007e}},//XKB_KEY_asciitilde ~
	{{0xfe53,0x0041,0x00c3}},//XKB_KEY_Atilde  Ã
	{{0xfe53,0x004e,0x00d1}},//XKB_KEY_Ntilde Ñ
	{{0xfe53,0x004f,0x00d5}},//XKB_KEY_Otilde Õ
	{{0xfe53,0x0061,0x00e3}},//XKB_KEY_atilde ã
	{{0xfe53,0x006e,0x00f1}},//XKB_KEY_ntilde ñ
	{{0xfe53,0x006f,0x00f5}},//XKB_KEY_otilde õ
	{{0xfe57,0x0020,0x00a8}},//XKB_KEY_diaeresis ¨
	{{0xfe57,0x0041,0x00c4}},//XKB_KEY_Adiaeresis Ä
	{{0xfe57,0x0045,0x00cb}},//XKB_KEY_Ediaeresis Ë
	{{0xfe57,0x0049,0x00cf}},//XKB_KEY_Idiaeresis Ï
	{{0xfe57,0x004f,0x00d6}},//XKB_KEY_Odiaeresis Ö
	{{0xfe57,0x0055,0x00dc}},//XKB_KEY_Udiaeresis Ü
	{{0xfe57,0x0061,0x00e4}},//XKB_KEY_adiaeresis ä
	{{0xfe57,0x0065,0x00eb}},//XKB_KEY_ediaeresis ë
	{{0xfe57,0x0069,0x00ef}},//XKB_KEY_idiaeresis ï
	{{0xfe57,0x006f,0x00f6}},//XKB_KEY_odiaeresis ö
	{{0xfe57,0x0075,0x00fc}},//XKB_KEY_udiaeresis ü
	{{0xfe57,0x0079,0x00ff}}//XKB_KEY_ydiaeresis ÿ

};

// Dead keys map for Dutch Netherlands layout
static const struct _KeySymToDeadKeyCharStructDutchNetherlands
{
	KeySymToDeadKeyChar KSTDKC;
}KeySymToDeadKeyCharStruct_Dutch_Netherlands[] = {
	{{0xfe50,0x0020,0x0060}},//XKB_KEY_grave `
	{{0xfe50,0x0041,0x00c0}},//XKB_KEY_Agrave À
	{{0xfe50,0x0045,0x00c8}},//XKB_KEY_Egrave È
	{{0xfe50,0x0049,0x00cc}},//XKB_KEY_Igrave Ì
	{{0xfe50,0x004f,0x00d2}},//XKB_KEY_Ograve Ò
	{{0xfe50,0x0055,0x00d9}},//XKB_KEY_Ugrave Ù
	{{0xfe50,0x0061,0x00e0}},//XKB_KEY_agrave à
	{{0xfe50,0x0065,0x00e8}},//XKB_KEY_egrave è
	{{0xfe50,0x0069,0x00ec}},//XKB_KEY_igrave ì
	{{0xfe50,0x006f,0x00f2}},//XKB_KEY_ograve ò
	{{0xfe50,0x0075,0x00f9}},//XKB_KEY_ugrave ù
	{{0xfe51,0x0020,0x00b4}},//XKB_KEY_acute ´
	{{0xfe51,0x0041,0x00c1}},//XKB_KEY_Aacute Á
	{{0xfe51,0x0045,0x00c9}},//XKB_KEY_Eacute É
	{{0xfe51,0x0049,0x00cd}},//XKB_KEY_Iacute Í
	{{0xfe51,0x004f,0x00d3}},//XKB_KEY_Oacute Ó
	{{0xfe51,0x0055,0x00da}},//XKB_KEY_Uacute Ú
	{{0xfe51,0x0059,0x00dd}},//XKB_KEY_Yacute Ý
	{{0xfe51,0x0061,0x00e1}},//XKB_KEY_aacute á
	{{0xfe51,0x0065,0x00e9}},//XKB_KEY_eacute é
	{{0xfe51,0x0069,0x00ed}},//XKB_KEY_iacute í
	{{0xfe51,0x006f,0x00f3}},//XKB_KEY_oacute ó
	{{0xfe51,0x0075,0x00fa}},//XKB_KEY_uacute ú
	{{0xfe51,0x0079,0x00fd}},//XKB_KEY_yacute ý
	{{0xfe52,0x0020,0x005e}},//XKB_KEY_asciicircum ^
	{{0xfe52,0x0041,0x00c2}},//XKB_KEY_Acircumflex Â
	{{0xfe52,0x0045,0x00ca}},//XKB_KEY_Ecircumflex Ê
	{{0xfe52,0x0049,0x00ce}},//XKB_KEY_Icircumflex Î
	{{0xfe52,0x004f,0x00d4}},//XKB_KEY_Ocircumflex Ô
	{{0xfe52,0x0055,0x00db}},//XKB_KEY_Ucircumflex Û
	{{0xfe52,0x0061,0x00e2}},//XKB_KEY_acircumflex â
	{{0xfe52,0x0065,0x00ea}},//XKB_KEY_ecircumflex ê
	{{0xfe52,0x0069,0x00ee}},//XKB_KEY_icircumflex î
	{{0xfe52,0x006f,0x00f4}},//XKB_KEY_ocircumflex ô
	{{0xfe52,0x0075,0x00fb}},//XKB_KEY_ucircumflex û
	{{0xfe53,0x0020,0x007e}},//XKB_KEY_asciitilde ~
	{{0xfe53,0x0041,0x00c3}},//XKB_KEY_Atilde  Ã
	{{0xfe53,0x004e,0x00d1}},//XKB_KEY_Ntilde Ñ
	{{0xfe53,0x004f,0x00d5}},//XKB_KEY_Otilde Õ
	{{0xfe53,0x0061,0x00e3}},//XKB_KEY_atilde ã
	{{0xfe53,0x006e,0x00f1}},//XKB_KEY_ntilde ñ
	{{0xfe53,0x006f,0x00f5}},//XKB_KEY_otilde õ
	{{0xfe57,0x0020,0x00a8}},//XKB_KEY_diaeresis ¨
	{{0xfe57,0x0041,0x00c4}},//XKB_KEY_Adiaeresis Ä
	{{0xfe57,0x0045,0x00cb}},//XKB_KEY_Ediaeresis Ë
	{{0xfe57,0x0049,0x00cf}},//XKB_KEY_Idiaeresis Ï
	{{0xfe57,0x004f,0x00d6}},//XKB_KEY_Odiaeresis Ö
	{{0xfe57,0x0055,0x00dc}},//XKB_KEY_Udiaeresis Ü
	{{0xfe57,0x0061,0x00e4}},//XKB_KEY_adiaeresis ä
	{{0xfe57,0x0065,0x00eb}},//XKB_KEY_ediaeresis ë
	{{0xfe57,0x0069,0x00ef}},//XKB_KEY_idiaeresis ï
	{{0xfe57,0x006f,0x00f6}},//XKB_KEY_odiaeresis ö
	{{0xfe57,0x0075,0x00fc}},//XKB_KEY_udiaeresis ü
	{{0xfe57,0x0079,0x00ff}},//XKB_KEY_ydiaeresis ÿ
    {{0xFE5B,0x0020,0x00b8}},//XKB_KEY_dead_cedilla ¸
    {{0xFE5B,0x0043,0x00c7}},//XKB_KEY_Ccedilla Ç
    {{0xFE5B,0x0063,0x00e7}}//XKB_KEY_ccedilla 

};


#ifdef __cplusplus
extern "C" {
#endif

extern void clnt_init_xkb(CLNT *clnt, HAL *hp);
extern int  clnt_process_xkb(CLNT *clnt, struct input_event *evbuf, int evbuflen, unsigned char *xkbbuf);
extern void xkb_CleanUp(CLNT *clnt);

#ifdef __cplusplus
}
#endif


#endif /* XKB_UTILS_H_ */
