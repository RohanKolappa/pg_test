import java.net.URLDecoder;

import com.ipvs.common.service.MRXMLUtils;


public class GetSourceListIssue {
    public static void main(String[] args) {
        String stringXML = "%3CAgentMessage%3E%3Cagentmessageheader%3E%3Cfromagent%3Ecom.ipvs.mediaroomservice.impl.AppServerAgent%3C%2Ffromagent%3E%3CagentJID%3Eccuser1%40127.0.0.1%2Fccpc1%3C%2FagentJID%3E%3Cagent%3Ecom.ipvs.client.MRClientAgent%3C%2Fagent%3E%3Cagentmessagetype%3EResponse%3C%2Fagentmessagetype%3E%3C%2Fagentmessageheader%3E%3Cagentmessagedata%3E%3CResponse%3E%3Cheader%3E%3Cservicename%3Emediaroomservice%3C%2Fservicename%3E%3Crequestname%3EGetSourceListRequest%3C%2Frequestname%3E%3CuserJID%3Eccuser1%40127.0.0.1%2Fccpc1%3C%2FuserJID%3E%3CrequestNID%3Eccuser1%40127.0.0.1%2Fccpc1%2F25555885%3C%2FrequestNID%3E%3Cstate%3E8%3C%2Fstate%3E%3Cclientdata%3ERequest_jsx_d%3C%2Fclientdata%3E%3C%2Fheader%3E%3Cdata%3E%3CGetSourceListResponseData%3E%3CGetResponse%3E%3CResponseID%3EmyTest1%3C%2FResponseID%3E%3CResponseXML%3E%3CMediaStreamSrcPortResource+Version%3D%221.1%22+Parse%3D%22true%22+NIDScheme%3D%22AUTO%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1%22+parentNID%3D%22default.mediastreamsrcportresourcelist%22%3E%0D%0A+%3CContact+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.Contact%22%3E%0D%0A++%3COwnerUserJID%3Ehospitalatx1%40192.168.31.240%2Fhospitalatx1%3C%2FOwnerUserJID%3E%0D%0A+%3C%2FContact%3E%0D%0A+%3CState+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.State%22+%2F%3E%0D%0A+%3CAssetResourceNID%3Edefault.assetresourcelist.hospitalatx1%3C%2FAssetResourceNID%3E%0D%0A+%3CPVRInfo+%2F%3E%0D%0A+%3CRelayInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.RelayInfo%22+%2F%3E%0D%0A+%3CXAuthInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.XAuthInfo%22+%2F%3E%0D%0A+%3CInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.Info%22%3E%0D%0A++%3CTitle%3Ehospitalatx1%3C%2FTitle%3E%0D%0A++%3CDescription%3EHospitalA_LAB%3C%2FDescription%3E%0D%0A++%3CStreamTypeList%3E%0D%0A+++%3CStreamType%3EV2D%3C%2FStreamType%3E%0D%0A++%3C%2FStreamTypeList%3E%0D%0A++%3CDeviceElementID%3EPort1%3C%2FDeviceElementID%3E%0D%0A++%3CGroups%3E%0D%0A+++%3CTag+Name%3D%22Location%22+Value%3D%22HA%22+%2F%3E%0D%0A++%3C%2FGroups%3E%0D%0A+%3C%2FInfo%3E%0D%0A+%3CInstanceInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.InstanceInfo%22%3E%0D%0A++%3CMaxInstanceCount%3E1%3C%2FMaxInstanceCount%3E%0D%0A++%3CInstanceList+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224047858781bb04c5a1.InstanceInfo.InstanceList%22+%2F%3E%0D%0A+%3C%2FInstanceInfo%3E%0D%0A%3C%2FMediaStreamSrcPortResource%3E%3CMediaStreamSrcPortResource+Version%3D%221.1%22+Parse%3D%22true%22+NIDScheme%3D%22AUTO%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346%22+parentNID%3D%22default.mediastreamsrcportresourcelist%22%3E%0D%0A+%3CContact+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.Contact%22%3E%0D%0A++%3COwnerUserJID%3Ehospitalbtx1%4010.1.15.196%2Fhospitalbtx1%3C%2FOwnerUserJID%3E%0D%0A+%3C%2FContact%3E%0D%0A+%3CState+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.State%22+%2F%3E%0D%0A+%3CAssetResourceNID%3Edefault.assetresourcelist.hospitalbtx1%3C%2FAssetResourceNID%3E%0D%0A+%3CPVRInfo+%2F%3E%0D%0A+%3CRelayInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.RelayInfo%22+%2F%3E%0D%0A+%3CXAuthInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.XAuthInfo%22+%2F%3E%0D%0A+%3CInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.Info%22%3E%0D%0A++%3CTitle%3Ehospitalbtx1%3C%2FTitle%3E%0D%0A++%3CDescription%3EHospitalb_Lab%3C%2FDescription%3E%0D%0A++%3CStreamTypeList%3E%0D%0A+++%3CStreamType%3EV2D%3C%2FStreamType%3E%0D%0A++%3C%2FStreamTypeList%3E%0D%0A++%3CDeviceElementID%3EPort1%3C%2FDeviceElementID%3E%0D%0A++%3CGroups%3E%0D%0A+++%3CTag+Name%3D%22Location%22+Value%3D%22HB%22+%2F%3E%0D%0A++%3C%2FGroups%3E%0D%0A+%3C%2FInfo%3E%0D%0A+%3CInstanceInfo+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.InstanceInfo%22%3E%0D%0A++%3CMaxInstanceCount%3E1%3C%2FMaxInstanceCount%3E%0D%0A++%3CInstanceList+Parse%3D%22true%22+NIDScheme%3D%22PARENTNID.ELEMENTNAME%22+NID%3D%22default.mediastreamsrcportresourcelist.zzzz_1224048078921b7af3346.InstanceInfo.InstanceList%22+%2F%3E%0D%0A+%3C%2FInstanceInfo%3E%0D%0A%3C%2FMediaStreamSrcPortResource%3E%3C%2FResponseXML%3E%3CGetListObjectResponseData%3E%3CObjectCount%3E2%3C%2FObjectCount%3E%3CObjectLastWhereEndCount%3E2%3C%2FObjectLastWhereEndCount%3E%3C%2FGetListObjectResponseData%3E%3C%2FGetResponse%3E%3C%2FGetSourceListResponseData%3E%3C%2Fdata%3E%3Clog%3E0%3A1224515698572%3A200%3AAppServerAgent+%3E+Response%3AUpdateStreamStateRequest%3A59+to+com.ipvs.client.MRClientAgent%40hospitalatx1%0A0%3A1224515698572%3A200%3A%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22+standalone%3D%22no%22+%3F%3E%3CCLIConfig%3E++%3CCommand%3E++++%3CConfig%3EPrimaryNetworkInterface%3C%2FConfig%3E++++%3CCLICommand%3Eset_eth0_if%3C%2FCLICommand%3E++++%3COperation%3EModify%3C%2FOperation%3E++++%3CSource%3EMenu%3C%2FSource%3E++++%3CClientData%3E%3C%2FClientData%3E++++%3CStatus%3ESuccess%3C%2FStatus%3E++%3C%2FCommand%3E++%3CParameters%3E++++%3CParameter%3E++++++%3CName%3Edhcp%3C%2FName%3E++++++%3CValue%3ENo%3C%2FValue%3E++++%3C%2FParameter%3E++++%3CParameter%3E++++++%3CName%3Eetherip%3C%2FName%3E++++++%3CValue%3E192.168.31.240%3C%2FValue%3E++++%3C%2FParameter%3E++++%3CParameter%3E++++++%3CName%3Eethermask%3C%2FName%3E++++++%3CValue%3E255.255.255.0%3C%2FValue%3E++++%3C%2FParameter%3E++%3C%2FParameters%3E%3C%2FCLIConfig%3E%0A0%3A1224515698572%3A200%3AAssetManagement-Start%0A0%3A1224515698572%3A200%3AAssetManagement-End%0A0%3A1224515698572%3A200%3AprocessCLI+%3A+Closing+connection%0A0%3A1224515698572%3A200%3A%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22+standalone%3D%22no%22+%3F%3E%3CCLIConfig%3E++%3CCommand%3E++++%3CConfig%3ERoutingEntry%3C%2FConfig%3E++++%3CCLICommand%3Edel_route_entry%3C%2FCLICommand%3E++++%3COperation%3EDelete%3C%2FOperation%3E++++%3CSource%3EMenu%3C%2FSource%3E++++%3CIndex%3E1%3C%2FIndex%3E++++%3CClientData%3E%3C%2FClientData%3E++++%3CStatus%3ESuccess%3C%2FStatus%3E++%3C%2FCommand%3E++%3CParameters%2F%3E%3C%2FCLIConfig%3E%0A0%3A1224515698572%3A200%3AAssetManagement-Start%0A0%3A1224515698572%3A200%3AAssetManagement-End%0A0%3A1224515698572%3A200%3AprocessCLI+%3A+Closing+connection%0A0%3A1224515698572%3A200%3A%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22+standalone%3D%22no%22+%3F%3E%3CCLIConfig%3E++%3CCommand%3E++++%3CConfig%3ERoutingEntry%3C%2FConfig%3E++++%3CCLICommand%3Eadd_route_entry%3C%2FCLICommand%3E++++%3COperation%3EAdd%3C%2FOperation%3E++++%3CSource%3EMenu%3C%2FSource%3E++++%3CIndex%3E1%3C%2FIndex%3E++++%3CClientData%3E%3C%2FClientData%3E++++%3CStatus%3ESuccess%3C%2FStatus%3E++%3C%2FCommand%3E++%3CParameters%3E++++%3CParameter%3E++++++%3CName%3Edst%3C%2FName%3E++++++%3CValue%3E0.0.0.0%3C%2FValue%3E++++%3C%2FParameter%3E++++%3CParameter%3E++++++%3CName%3Emask%3C%2FName%3E++++++%3CValue%3E0.0.0.0%3C%2FValue%3E++++%3C%2FParameter%3E++++%3CParameter%3E++++++%3CName%3Egw%3C%2FName%3E++++++%3CValue%3E192.168.31.254%3C%2FValue%3E++++%3C%2FParameter%3E++%3C%2FParameters%3E%3C%2FCLIConfig%3E%0A0%3A1224515698572%3A200%3AAssetManagement-Start%0A0%3A1224515698572%3A200%3AAssetManagement-End%0A0%3A1224515698572%3A200%3AprocessCLI+%3A+Closing+connection%0A0%3A1224515698572%3A200%3Accuser1%40127.0.0.1%2Fccpc1%40MRServer%3AhandleRequest+GetSourceListRequest%0A0%3A1224515698572%3A200%3AAssetManagement-Start%0A0%3A1224515698572%3A200%3AAssetManagement-End%0A%3C%2Flog%3E%3C%2FResponse%3E%3C%2Fagentmessagedata%3E%3C%2FAgentMessage%3E";
        String decodeXML = null;

        try {
            decodeXML = URLDecoder.decode(stringXML, "UTF-8");
        } catch (Exception exp) {
            exp.printStackTrace();
        }

        System.out.println("XML---->"+decodeXML);
        try{
        	System.out.println("XML---->"+MRXMLUtils.stringToDocument(decodeXML));
        }catch(Exception exp){
        	exp.printStackTrace();
        }
    }
}
