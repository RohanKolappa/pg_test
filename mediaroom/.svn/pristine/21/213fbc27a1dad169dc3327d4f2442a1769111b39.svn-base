declare function local:getSessionInfo( $b as element()*, $detail as xs:string)
as element ()*
{
   let $sessionInfo := if ($detail = 'EXTENDED')
   		then 
		   		 $b
   		else      <SessionConfig NID='{ data($b/@NID) }'
		   				 title='{ data($b//Info/Title) }'
		   				 dateCreated = '{ data($b//Properties/DateCreated) }'
		   				 playbackOption = '{ data($b//Settings/Playback/@recVersion) }'
		   				 type = '{ data($b//SessionInfo/@type) }'
		 		  >
		 		  {$b//Groups}
		 		  </SessionConfig>     	
   return $sessionInfo
};



declare function local:getList()
as element()*
{
	let $list1 := 
		for $b in  #OBJ_SessionConfig_OBJ#
			where $b  _XPATHAND_ 
			order by upper-case ($b_SORTBY_) _SORTORDER_   
			return $b
	return $list1
};

declare function local:formatItem($b as element()*, $detail as xs:string) {
	let $item := local:getSessionInfo($b, $detail)
	return $item
};

declare function local:formatList($b as element()*, $detail as xs:string) {
	let $list:= $b
		return $b
};